/* Tailwind CSS Directives */
@tailwind base;
@tailwind components;
@tailwind utilities;

/* Ocean Professional CSS variables for optional usage alongside Tailwind */
:root {
  --color-primary: #2563EB;
  --color-secondary: #F59E0B;
  --color-success: #22C55E;
  --color-error: #EF4444;
  --color-background: #f9fafb;
  --color-surface: #ffffff;
  --color-text: #111827;
}

/* Base styles ensuring global background and text color */
@layer base {
  html, body, #root {
    height: 100%;
  }
  body {
    /* Keep text color and type settings; move background to gradient with a subtle base color fallback */
    @apply text-text antialiased;
    background-color: #f9fafb;
    background-image: linear-gradient(87deg, #95bff0 20%, #ac7de9 80%);
    font-feature-settings: "cv02","cv03","cv04","cv11";
  }

  /* Links default style */
  a {
    @apply text-primary;
  }
  code {
    font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
  }
}

/* Utility shortcuts (optional) */
@layer utilities {
  .ocean-surface {
    @apply bg-surface shadow-soft rounded-xl;
  }
  .ocean-gradient {
    @apply bg-gradient-to-r from-blue-500/10 to-gray-50;
  }

  /* PUBLIC_INTERFACE
     bg-app-gradient: global application background gradient per product theme.
     Use on app shell containers like html, body, #root, layout wrappers, and navbars.
     Exact value: linear-gradient(87deg, #95bff0 20%, #ac7de9 80%). */
  .bg-app-gradient {
    /** PUBLIC_INTERFACE: App-wide gradient utility for shell backgrounds */
    background-image: linear-gradient(87deg, #95bff0 20%, #ac7de9 80%);
  }

  /* PUBLIC_INTERFACE
     bg-brand-gradient: background filled with the brand gradient.
     border-brand-gradient: gradient border ring using padding + mask so interior stays solid.
     glow-brand: soft glow shadow using brand hues. */
  .bg-brand-gradient {
    background-image: linear-gradient(45deg, #af2497 10%, #902d9a 20%, #1840a0 100%);
  }

  /* PUBLIC_INTERFACE
     app-gradient-major: apply the new brand gradient to headers, footers, and major layout/nav sections.
     Keep text/icons white or high-contrast when using this utility.
  */
  .app-gradient-major {
    background-image: linear-gradient(45deg, #af2497 10%, #902d9a 20%, #1840a0 100%);
  }

  /* PUBLIC_INTERFACE
     app-header-major: Shared header surface with brand gradient background and subtle glass overlay.
     Use this for page and section headers to ensure consistent look.
  */
  .app-header-major {
    position: relative;
    border-radius: 0rem; /* force square corners for Navbar/Footer shells */
    /* Prevent the shell from creating horizontal scrollbars at any zoom/breakpoint */
    max-width: 100vw;
    width: 100%;
    /* Avoid accidental horizontal scroll if children mis-measure */
    overflow-x: hidden;
    /* Do not allow the navbar container to create a vertical scrollbar */
    overflow-y: hidden;
    /* Base: keep major gradient as-is per requirement */
    background-image: linear-gradient(45deg, #af2497 10%, #902d9a 20%, #1840a0 100%);
    /* Ensure transforms inside do not create extra width due to subpixel rounding */
    contain: layout paint;
    /* Maintain readable light-on-dark contrast for header text */
    color: #fff;
  }
  .app-header-major .app-header-inner {
    /* Soften glass: increase translucency and reduce saturation for a subtler overlay */
    background: rgba(255,255,255,0.06);
    backdrop-filter: saturate(105%) blur(5px);
    -webkit-backdrop-filter: saturate(105%) blur(5px);
    /* Ensure dropdowns inside header aren't clipped by accidental overflow settings */
    overflow: visible;
    /* Avoid inner content pushing beyond viewport width */
    max-width: 100%;
  }
  .app-header-title {
    color: #ffffff;
    font-weight: 700;
  }
  .app-header-subtitle {
    color: rgba(255,255,255,0.92);
  }
  /* Accessible focus within header:
     - Keep shell square, but allow inner interactive elements to retain their own rounding.
     - Do not force border-radius:0 on focus styles here; individual elements define rounding. */
  .app-header-major :is(a, button, [role="button"]) {
    outline: none;
  }
  .app-header-major :is(a, button, [role="button"]):focus-visible {
    box-shadow: 0 0 0 2px rgba(255,255,255,0.7);
  }

  /* Optional helper for rounding common inner elements inside square shells */
  .header-inner-rounded {
    border-radius: 0.5rem; /* ~rounded-md */
  }
  /* Slightly lighter brand gradient for surfaces like Bento tiles where a softer intensity is desired.
     Keeps the same hue stops but reduces visual intensity by lowering color opacity atop a subtle base.
     Use on backgrounds where text remains white for high contrast. */
  .bg-brand-gradient-soft {
    background-image:
      linear-gradient(45deg,
        rgba(175, 36, 151, 0.65) 10%,
        rgba(144, 45, 154, 0.62) 20%,
        rgba(24, 64, 160, 0.60) 100%);
    /* Neutral deep base kept but slightly lightened to avoid overly heavy feel */
    background-color: #121a34;
    background-blend-mode: normal;
    /* Lighten perceived shadow around tiles by slightly reducing contrast via inner overlay on hover if needed */
  }
  .border-brand-gradient {
    position: relative;
    background:
      linear-gradient(#ffffff, #ffffff) padding-box,
      linear-gradient(45deg, #af2497 10%, #902d9a 20%, #1840a0 100%) border-box;
    border: 1px solid transparent;
    border-radius: 0.875rem; /* match rounded-xl default */
  }
  /* Thin variant for circular/compact controls; preserves gradient ring while keeping interior translucent */
  .border-brand-gradient-thin {
    position: relative;
    background:
      linear-gradient(rgba(255,255,255,0.8), rgba(255,255,255,0.8)) padding-box,
      linear-gradient(45deg, #af2497 10%, #902d9a 20%, #1840a0 100%) border-box;
    border: 1px solid transparent;
    border-radius: 9999px;
  }
  .glow-brand {
    box-shadow:
      0 0 0 1px rgba(175, 36, 151, 0.18),
      0 12px 24px -8px rgba(24, 64, 160, 0.18),
      0 6px 12px -6px rgba(144, 45, 154, 0.16);
  }

  /* A subtle gradient text utility for headings; ensure good contrast by pairing with strong sizes */
  .text-brand-gradient {
    background-image: linear-gradient(45deg, #af2497 10%, #902d9a 20%, #1840a0 100%);
    -webkit-background-clip: text;
    background-clip: text;
    color: transparent;
  }

  /* Assist dark mode for gradient-backed surfaces to ensure readability */
  .surface-overlay-soft {
    @apply bg-white/80 backdrop-blur;
  }
  .surface-overlay-softer {
    @apply bg-white/70 backdrop-blur;
  }

  /* Optional: gradient ring helper for elements that need a subtle inner gradient accent */
  .ring-brand-inner {
    box-shadow: inset 0 0 0 1.5px rgba(255,255,255,0.65);
  }

  /* Dark mode balances: on dark, ensure gradient borders maintain contrast */
  @media (prefers-color-scheme: dark) {
    .border-brand-gradient {
      background:
        linear-gradient(#0b0b0c, #0b0b0c) padding-box,
        linear-gradient(45deg, #af2497 10%, #902d9a 20%, #1840a0 100%) border-box;
    }
    /* On dark, brighten gradient-backed header focus rings slightly */
    /* Removed invalid escaped utility selector to avoid build error. */
  }

  .shadow-floating {
    @apply shadow-[0_12px_24px_-8px_rgba(2,6,23,0.15)];
  }

  /* Minor sizing helper for in-between icon sizes */
  .h-4\.5 { height: 1.125rem; } /* 18px */
  .w-4\.5 { width: 1.125rem; }

  /* Optional helper: darker contrast on dark backgrounds for small icon wrappers
     Note: The accordion chevron uses a solid gradient and manages contrast with a white outline,
     so do not force a background overlay on that icon. Keep this utility available for other icons. */
  .icon-wrapper-contrast {
    @apply bg-black/5 hover:bg-black/10;
  }
  @media (prefers-color-scheme: dark) {
    .icon-wrapper-contrast {
      background-color: rgba(255,255,255,0.08);
    }
    .icon-wrapper-contrast:hover,
    .icon-wrapper-contrast:focus-visible {
      background-color: rgba(255,255,255,0.14);
    }
  }

  /* Subtle, lighter brand gradient surface for expanded panels.
     - Uses low-opacity gradient overlay to preserve text readability.
     - Adds a soft border for separation.
     - Dark mode adjusts overlay for contrast while keeping content readable. */
  .brand-panel-soft {
    background-image: linear-gradient(45deg, rgba(175, 36, 151, 0.045) 10%, rgba(144, 45, 154, 0.045) 20%, rgba(24, 64, 160, 0.045) 100%);
    background-color: #ffffff;
    border: 1px solid rgba(0,0,0,0.045);
  }
  @media (prefers-color-scheme: dark) {
    .brand-panel-soft {
      background-image: linear-gradient(45deg, rgba(175, 36, 151, 0.10) 10%, rgba(144, 45, 154, 0.10) 20%, rgba(24, 64, 160, 0.10) 100%);
      background-color: #0b0b0c;
      border-color: rgba(255,255,255,0.08);
    }
  }

  /* Slightly stronger variant for better brand presence while keeping readability.
     - Opacity is increased just enough to be noticeable.
     - Maintains white base and soft border for contrast.
     - Apply conditionally when panels are expanded. */
  .brand-panel-soft-strong {
    background-image: linear-gradient(45deg, rgba(175, 36, 151, 0.075) 10%, rgba(144, 45, 154, 0.075) 20%, rgba(24, 64, 160, 0.075) 100%);
    background-color: #ffffff;
    border: 1px solid rgba(0,0,0,0.055);
  }
  @media (prefers-color-scheme: dark) {
    .brand-panel-soft-strong {
      background-image: linear-gradient(45deg, rgba(175, 36, 151, 0.15) 10%, rgba(144, 45, 154, 0.15) 20%, rgba(24, 64, 160, 0.15) 100%);
      background-color: #0b0b0c;
      border-color: rgba(255,255,255,0.10);
    }
  }

  /* One notch stronger than brand-panel-soft-strong for tiles.
     - Increases overlay opacity while the inner content remains solid white.
     - Ensures accessible contrast for text/icons by keeping content containers (ocean-surface) opaque.
     - Avoid using transparency overlays inside content. */
  .brand-panel-strong {
    background-image: linear-gradient(45deg, rgba(175, 36, 151, 0.14) 10%, rgba(144, 45, 154, 0.14) 20%, rgba(24, 64, 160, 0.14) 100%);
    background-color: #ffffff;
    border: 1px solid rgba(0,0,0,0.075);
  }
  @media (prefers-color-scheme: dark) {
    .brand-panel-strong {
      background-image: linear-gradient(45deg, rgba(175, 36, 151, 0.24) 10%, rgba(144, 45, 154, 0.24) 20%, rgba(24, 64, 160, 0.24) 100%);
      background-color: #0b0b0c;
      border-color: rgba(255,255,255,0.11);
    }
  }

  /* PUBLIC_INTERFACE
     app-answer-surface: reusable utility that mirrors the accordion answer/content palette.
     Use for hero sections, headers, and cards to provide a soft, readable, light surface. */
  .app-answer-surface {
    @apply rounded-2xl;
    background-image: linear-gradient(
      45deg,
      rgba(175, 36, 151, 0.045) 10%,
      rgba(144, 45, 154, 0.045) 20%,
      rgba(24, 64, 160, 0.045) 100%
    );
    background-color: rgba(255, 255, 255, 0.94); /* slightly higher opacity for better tile readability */
    backdrop-filter: blur(3px);
    -webkit-backdrop-filter: blur(3px);
  }

  /* PUBLIC_INTERFACE
     app-answer-border: soft separator border matching the answer palette. */
  .app-answer-border {
    border: 1px solid rgba(0, 0, 0, 0.06);
  }

  /* PUBLIC_INTERFACE
     app-answer-heading: heading style that harmonizes with the answer surface while maintaining contrast. */
  .app-answer-heading {
    color: #11224a; /* slightly lighter than previous deep navy */
    font-weight: 700;
  }

  /* PUBLIC_INTERFACE
     app-answer-subtle: secondary text color for descriptions on answer surfaces. */
  .app-answer-subtle {
    color: rgba(17, 24, 39, 0.72); /* soften while keeping readability */
  }

  /* PUBLIC_INTERFACE
     bento-tile-header: gradient-only header strip for Bento tiles.
     - Applies the major brand gradient background
     - Ensures white text and accessible focus states
     - Intended to be used as the header wrapper inside each tile card
  */
  .bento-tile-header {
    background-image: linear-gradient(45deg, #af2497 10%, #902d9a 20%, #1840a0 100%);
    color: #fff;
  }
  .bento-tile-header :is(a, button, [role="button"]) {
    outline: none;
  }
  .bento-tile-header :is(a, button, [role="button"]):focus-visible {
    box-shadow: 0 0 0 2px rgba(255,255,255,0.9);
  }

  /* PUBLIC_INTERFACE
     icon-gradient-major: apply major brand gradient to icons using text fill.
     - Use with inline text icons or SVG with currentColor (pair with .icon-gradient-text to clip)
     - Intended size: 18â€“20px for subtle visual hint
  */
  .icon-gradient-major {
    background-image: linear-gradient(45deg, #af2497 10%, #902d9a 20%, #1840a0 100%);
  }
  /* Helper for gradient text fill on icons (emoji/text or SVG paths using currentColor) */
  .icon-gradient-text {
    -webkit-background-clip: text;
    background-clip: text;
    color: transparent;
    /* Improve cross-browser behavior for inline SVG currentColor clipping */
    -webkit-text-fill-color: transparent;
  }

  /* Optional subtle outline utility for tiny gradient icons against light surfaces */
  .icon-gradient-outline {
    filter: drop-shadow(0 0 0.5px rgba(0,0,0,0.25));
  }

  /* Optional: mask-based gradient for monochrome SVGs using mask-image; apply to a wrapper if needed.
     Use when SVG does not rely on currentColor. Keep available but unused here for simplicity.
  */
  .icon-gradient-mask {
    background-image: linear-gradient(45deg, #af2497 10%, #902d9a 20%, #1840a0 100%);
    -webkit-mask-size: contain;
    mask-size: contain;
    -webkit-mask-repeat: no-repeat;
    mask-repeat: no-repeat;
    -webkit-mask-position: center;
    mask-position: center;
  }

  /* Spacing helper for subtle placement under descriptions */
  .icon-subtle-spacing {
    margin-top: 0.375rem; /* ~6px for a light baseline gap */
  }

  /* PUBLIC_INTERFACE
     tile-hover-elevate: apply smooth elevation + scale on hover and focus-visible.
     - Uses transform scale to avoid layout shift
     - Includes soft floating shadow
     - Applies to any interactive tile/card container; safe for buttons/links
  */
  .tile-hover-elevate {
    transform: translateZ(0); /* create own stacking context for smoother transforms */
    transition: transform 250ms ease-out, box-shadow 250ms ease-out, filter 250ms ease-out;
    will-change: transform;
  }
  .tile-hover-elevate:hover,
  .tile-hover-elevate:focus-visible {
    transform: scale(1.03); /* gentle lift */
    box-shadow: 0 10px 20px -8px rgba(2, 6, 23, 0.18), 0 6px 12px -6px rgba(2, 6, 23, 0.12);
    filter: brightness(1.02);
  }

  /* PUBLIC_INTERFACE
     accordion-hover-elevate: subtle elevate/scale for accordion items on hover and focus-visible.
     - Transform-based scaling to avoid layout shift
     - Soft shadow that matches lighter answer palette
     - GPU-accelerated for smoothness
  */
  .accordion-hover-elevate {
    transform: translateZ(0);
    transition: transform 200ms ease-out, box-shadow 200ms ease-out, filter 200ms ease-out;
    will-change: transform;
  }
  .accordion-hover-elevate:hover,
  .accordion-hover-elevate:focus-within {
    transform: scale(1.02);
    box-shadow: 0 10px 20px -10px rgba(2, 6, 23, 0.16), 0 6px 12px -8px rgba(2, 6, 23, 0.10);
    filter: brightness(1.01);
  }

  /* Size helpers for small icons */
  .icon-18 { width: 18px; height: 18px; }
  .icon-20 { width: 20px; height: 20px; }
}
