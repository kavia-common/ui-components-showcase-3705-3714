/* Tailwind CSS Directives */
@tailwind base;
@tailwind components;
@tailwind utilities;

/* Ocean Professional CSS variables for optional usage alongside Tailwind */
:root {
  --color-primary: #2563EB;
  --color-secondary: #F59E0B;
  --color-success: #22C55E;
  --color-error: #EF4444;
  --color-background: #f9fafb;
  --color-surface: #ffffff;
  --color-text: #111827;
}

/* Base styles ensuring global background and text color */
@layer base {
  html, body, #root {
    height: 100%;
  }
  body {
    /* Keep text color and type settings; move background to gradient with a subtle base color fallback */
    @apply text-text antialiased;
    background-color: #f9fafb;
    background-image: linear-gradient(87deg, #95bff0 20%, #ac7de9 80%);
    font-feature-settings: "cv02","cv03","cv04","cv11";
  }

  /* Links default style */
  a {
    @apply text-primary;
  }
  code {
    font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
  }
}

/* Utility shortcuts (optional) */
@layer utilities {
  .ocean-surface {
    @apply bg-surface shadow-soft rounded-xl;
  }
  .ocean-gradient {
    @apply bg-gradient-to-r from-blue-500/10 to-gray-50;
  }

  /* PUBLIC_INTERFACE
     bg-app-gradient: global application background gradient per product theme.
     Use on app shell containers like html, body, #root, layout wrappers, and navbars.
     Exact value: linear-gradient(87deg, #95bff0 20%, #ac7de9 80%). */
  .bg-app-gradient {
    /** PUBLIC_INTERFACE: App-wide gradient utility for shell backgrounds */
    background-image: linear-gradient(87deg, #95bff0 20%, #ac7de9 80%);
  }

  /* PUBLIC_INTERFACE
     bg-brand-gradient: background filled with the brand gradient.
     border-brand-gradient: gradient border ring using padding + mask so interior stays solid.
     glow-brand: soft glow shadow using brand hues. */
  .bg-brand-gradient {
    background-image: linear-gradient(45deg, #af2497 10%, #902d9a 20%, #1840a0 100%);
  }

  /* PUBLIC_INTERFACE
     app-gradient-major: apply the new brand gradient to headers, footers, and major layout/nav sections.
     Keep text/icons white or high-contrast when using this utility.
  */
  .app-gradient-major {
    background-image: linear-gradient(45deg, #af2497 10%, #902d9a 20%, #1840a0 100%);
  }
  /* Slightly lighter brand gradient for surfaces like Bento tiles where a softer intensity is desired.
     Keeps the same hue stops but reduces visual intensity by lowering color opacity atop a subtle base.
     Use on backgrounds where text remains white for high contrast. */
  .bg-brand-gradient-soft {
    background-image:
      linear-gradient(45deg,
        rgba(175, 36, 151, 0.92) 10%,
        rgba(144, 45, 154, 0.92) 20%,
        rgba(24, 64, 160, 0.92) 100%);
    /* Ensure underlying base is neutral to avoid unintended mixing; preserve solid look (not translucent). */
    background-color: #0f1730; /* deep base so reduced alpha still appears solid */
    /* Prevent accidental overrides by other bg-* utilities when composing classNames elsewhere */
    background-blend-mode: normal;
  }
  .border-brand-gradient {
    position: relative;
    background:
      linear-gradient(#ffffff, #ffffff) padding-box,
      linear-gradient(45deg, #af2497 10%, #902d9a 20%, #1840a0 100%) border-box;
    border: 1px solid transparent;
    border-radius: 0.875rem; /* match rounded-xl default */
  }
  /* Thin variant for circular/compact controls; preserves gradient ring while keeping interior translucent */
  .border-brand-gradient-thin {
    position: relative;
    background:
      linear-gradient(rgba(255,255,255,0.8), rgba(255,255,255,0.8)) padding-box,
      linear-gradient(45deg, #af2497 10%, #902d9a 20%, #1840a0 100%) border-box;
    border: 1px solid transparent;
    border-radius: 9999px;
  }
  .glow-brand {
    box-shadow:
      0 0 0 1px rgba(175, 36, 151, 0.25),
      0 12px 24px -8px rgba(24, 64, 160, 0.28),
      0 6px 12px -6px rgba(144, 45, 154, 0.22);
  }

  /* A subtle gradient text utility for headings; ensure good contrast by pairing with strong sizes */
  .text-brand-gradient {
    background-image: linear-gradient(45deg, #af2497 10%, #902d9a 20%, #1840a0 100%);
    -webkit-background-clip: text;
    background-clip: text;
    color: transparent;
  }

  /* Assist dark mode for gradient-backed surfaces to ensure readability */
  .surface-overlay-soft {
    @apply bg-white/80 backdrop-blur;
  }
  .surface-overlay-softer {
    @apply bg-white/70 backdrop-blur;
  }

  /* Optional: gradient ring helper for elements that need a subtle inner gradient accent */
  .ring-brand-inner {
    box-shadow: inset 0 0 0 1.5px rgba(255,255,255,0.65);
  }

  /* Dark mode balances: on dark, ensure gradient borders maintain contrast */
  @media (prefers-color-scheme: dark) {
    .border-brand-gradient {
      background:
        linear-gradient(#0b0b0c, #0b0b0c) padding-box,
        linear-gradient(45deg, #af2497 10%, #902d9a 20%, #1840a0 100%) border-box;
    }
    /* On dark, brighten gradient-backed header focus rings slightly */
    /* Removed invalid escaped utility selector to avoid build error. */
  }

  .shadow-floating {
    @apply shadow-[0_12px_24px_-8px_rgba(2,6,23,0.15)];
  }

  /* Minor sizing helper for in-between icon sizes */
  .h-4\.5 { height: 1.125rem; } /* 18px */
  .w-4\.5 { width: 1.125rem; }

  /* Optional helper: darker contrast on dark backgrounds for small icon wrappers
     Note: The accordion chevron uses a solid gradient and manages contrast with a white outline,
     so do not force a background overlay on that icon. Keep this utility available for other icons. */
  .icon-wrapper-contrast {
    @apply bg-black/5 hover:bg-black/10;
  }
  @media (prefers-color-scheme: dark) {
    .icon-wrapper-contrast {
      background-color: rgba(255,255,255,0.08);
    }
    .icon-wrapper-contrast:hover,
    .icon-wrapper-contrast:focus-visible {
      background-color: rgba(255,255,255,0.14);
    }
  }

  /* Subtle, lighter brand gradient surface for expanded panels.
     - Uses low-opacity gradient overlay to preserve text readability.
     - Adds a soft border for separation.
     - Dark mode adjusts overlay for contrast while keeping content readable. */
  .brand-panel-soft {
    background-image: linear-gradient(45deg, rgba(175, 36, 151, 0.06) 10%, rgba(144, 45, 154, 0.06) 20%, rgba(24, 64, 160, 0.06) 100%);
    background-color: #ffffff;
    border: 1px solid rgba(0,0,0,0.05);
  }
  @media (prefers-color-scheme: dark) {
    .brand-panel-soft {
      background-image: linear-gradient(45deg, rgba(175, 36, 151, 0.12) 10%, rgba(144, 45, 154, 0.12) 20%, rgba(24, 64, 160, 0.12) 100%);
      background-color: #0b0b0c;
      border-color: rgba(255,255,255,0.08);
    }
  }

  /* Slightly stronger variant for better brand presence while keeping readability.
     - Opacity is increased just enough to be noticeable.
     - Maintains white base and soft border for contrast.
     - Apply conditionally when panels are expanded. */
  .brand-panel-soft-strong {
    background-image: linear-gradient(45deg, rgba(175, 36, 151, 0.10) 10%, rgba(144, 45, 154, 0.10) 20%, rgba(24, 64, 160, 0.10) 100%);
    background-color: #ffffff;
    border: 1px solid rgba(0,0,0,0.06);
  }
  @media (prefers-color-scheme: dark) {
    .brand-panel-soft-strong {
      background-image: linear-gradient(45deg, rgba(175, 36, 151, 0.18) 10%, rgba(144, 45, 154, 0.18) 20%, rgba(24, 64, 160, 0.18) 100%);
      background-color: #0b0b0c;
      border-color: rgba(255,255,255,0.10);
    }
  }

  /* One notch stronger than brand-panel-soft-strong for tiles.
     - Increases overlay opacity while the inner content remains solid white.
     - Ensures accessible contrast for text/icons by keeping content containers (ocean-surface) opaque.
     - Avoid using transparency overlays inside content. */
  .brand-panel-strong {
    background-image: linear-gradient(45deg, rgba(175, 36, 151, 0.16) 10%, rgba(144, 45, 154, 0.16) 20%, rgba(24, 64, 160, 0.16) 100%);
    background-color: #ffffff;
    border: 1px solid rgba(0,0,0,0.08);
  }
  @media (prefers-color-scheme: dark) {
    .brand-panel-strong {
      background-image: linear-gradient(45deg, rgba(175, 36, 151, 0.26) 10%, rgba(144, 45, 154, 0.26) 20%, rgba(24, 64, 160, 0.26) 100%);
      background-color: #0b0b0c;
      border-color: rgba(255,255,255,0.12);
    }
  }
}
